import{d as e,a as t,t as s,u as l,r as a,K as n,L as i,o as r,M as o,N as c,O as u,_ as d,b as p,j as m,e as f,h as v,w as g,F as b,k as x,l as y,g as h,m as k,i as w,B as _,P as M,Q as P,R as L}from"./index-rAOHIppV.js";const C={key:0,class:"mb-2"},j={class:"flex space-x-2"},S=["onClick"],R=["src","alt"],V={class:"absolute bottom-0 left-0 w-full bg-gradient-to-t from-black/70 to-transparent p-4 rounded-b-lg"},z={class:"text-white text-sm font-semibold truncate"},K={class:"text-white text-xs truncate"},N={key:1},U={class:"pb-2"},E={class:"flex space-x-2"},I={class:"grid grid-cols-[repeat(auto-fill,minmax(180px,1fr))] gap-8"},O=["onClick"],B=["src","alt"],G={class:"absolute bottom-0 left-0 w-full bg-gradient-to-t from-black/70 to-transparent p-4 rounded-b-lg"},T={class:"text-white text-sm font-semibold truncate"},$={class:"text-white text-xs truncate"};const F=d(e({__name:"recommend",setup(e,{expose:d}){d();const p=t({Playlist:[],bannersList:[],subList:[],currentCat:"欧美",newestLsit:[]}),{Playlist:m,bannersList:f,subList:v,currentCat:g,newestLsit:b}=s(p),x=l(),y=a([]);function h(e){i({offset:e+1}).then((({playlists:e})=>{p.Playlist=p.Playlist.concat(e)}))}n(y,{initialPageNum:1,pageSize:10,threshold:.1},h),r((()=>{Promise.all([o(),i({offset:1,limit:20}),c(),u()]).then((([e,t,s,l])=>{p.bannersList=e.banners,p.Playlist=t.playlists,p.subList=s.sub,p.newestLsit=l.albums})).catch((e=>{}))}));const k={state:p,Playlist:m,bannersList:f,subList:v,currentCat:g,newestLsit:b,router:x,observedElement:y,handleIntersect:h,handleCat:function(e){g.value=e,i({cat:e}).then((({playlists:e})=>{p.Playlist=e}))}};return Object.defineProperty(k,"__isScriptSetup",{enumerable:!1,value:!0}),k}}),[["render",function(e,t,s,l,a,n){const i=p("el-image"),r=p("el-carousel-item"),o=p("el-carousel"),c=p("el-scrollbar"),u=p("el-button");return m(),f(b,null,[v(o,{interval:4e3,type:"card",height:"auto",autoplay:""},{default:g((()=>[(m(!0),f(b,null,x(l.bannersList,(e=>(m(),y(r,{key:e,class:"!h-28 md:!h-60 lg:!h-64"},{default:g((()=>[v(i,{class:"!rounded-lg",src:e.imageUrl},null,8,["src"])])),_:2},1024)))),128))])),_:1}),l.newestLsit.length>0?(m(),f("div",C,[t[0]||(t[0]=h("h1",{class:"text-2xl font-bold text-black/70 dark:text-white"},"最新专辑",-1)),v(c,{class:"py-4"},{default:g((()=>[h("div",j,[(m(!0),f(b,null,x(l.newestLsit,(e=>(m(),f("div",{class:"relative flex-[180px] shrink-0 rounded-lg cursor-pointer",key:e.id,onClick:t=>l.router.push(`/album?id=${e.id}`)},[h("img",{src:e.picUrl+"?param=360y360",alt:e.name,class:"w-full h-auto rounded-lg object-cover transition-all duration-300 group-hover:opacity-80"},null,8,R),h("div",V,[h("h3",z,k(e.name),1),h("p",K,k(e.artist.name),1)])],8,S)))),128))])])),_:1})])):w("",!0),l.Playlist.length>0?(m(),f("div",N,[t[1]||(t[1]=h("h1",{class:"text-2xl font-bold mb-4 text-black/70"},"热门歌单",-1)),h("div",U,[v(c,{class:"pb-4"},{default:g((()=>[h("div",E,[(m(!0),f(b,null,x(l.subList,(e=>(m(),y(u,{class:"!rounded-xl transition duration-200",style:{},type:l.currentCat==e.name?"primary":"",key:e.name,onClick:t=>l.handleCat(e.name)},{default:g((()=>[_(k(e.name),1)])),_:2},1032,["type","onClick"])))),128))])])),_:1})]),h("div",I,[(m(!0),f(b,null,x(l.Playlist,(e=>(m(),f("div",{class:"group relative rounded-lg overflow-hidden cursor-pointer",key:e.id,onClick:t=>l.router.push(`/playlist?id=${e.id}`),ref_for:!0,ref:"observedElement"},[h("img",{src:e.coverImgUrl+"?param=360y360",alt:e.name,class:"w-full h-auto rounded-lg object-cover transition-all duration-300 group-hover:opacity-80"},null,8,B),h("div",G,[h("h3",T,k(e.name),1),h("p",$,k(e.description),1)])],8,O)))),128))])])):w("",!0)],64)}],["__file","/home/runner/work/KMMusicPlayer/KMMusicPlayer/src/views/discover/components/recommend.vue"]]),Q={class:"container mx-auto p-4"},W={class:"flex space-x-4 mb-6"},H={class:"grid grid-cols-[repeat(auto-fill,minmax(130px,1fr))] gap-4"},X={class:"text-lg"},q={class:"text-xs text-gray-500"};const A=d(e({__name:"singer",setup(e,{expose:t}){t();const s=a(),l=a("全部");r((()=>{M().then((e=>{s.value=e.list.artists}))}));const n={genres:["全部","华语","欧美","韩国","日本","其他"],singers:s,currentGenre:l,selectGenre:(e,t)=>{l.value=e,M(t).then((e=>{s.value=e.list.artists}))}};return Object.defineProperty(n,"__isScriptSetup",{enumerable:!1,value:!0}),n}}),[["render",function(e,t,s,l,a,n){const i=p("el-button"),r=p("el-image");return m(),f("div",Q,[h("header",null,[h("div",W,[(m(),f(b,null,x(l.genres,((e,t)=>v(i,{key:e,type:l.currentGenre===e?"primary":"default",onClick:s=>l.selectGenre(e,t)},{default:g((()=>[_(k(e),1)])),_:2},1032,["type","onClick"]))),64))])]),h("div",H,[(m(!0),f(b,null,x(l.singers,(e=>(m(),f("div",{key:e.id,class:"flex flex-col items-center p-4 rounded-lg"},[v(r,{class:"rounded-full w-24 h-24",lazy:"",src:e.picUrl+"?param=180y180",alt:"歌手头像"},null,8,["src"]),h("span",X,k(e.name),1),h("span",q,"单曲："+k(e.musicSize),1)])))),128))])])}],["__file","/home/runner/work/KMMusicPlayer/KMMusicPlayer/src/views/discover/components/singer.vue"]]),D={viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"};const J={name:"bytesize-chevron-bottom",render:function(e,t){return m(),f("svg",D,t[0]||(t[0]=[h("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M30 12L16 24L2 12"},null,-1)]))}},Y=e({__name:"Rankings",setup(e,{expose:t}){t();const s=l(),n=a(),i=a();r((()=>{P().then((e=>{n.value=e})),L().then((({data:e})=>{i.value=e}))}));const o={router:s,artistToplist:n,MVRankingList:i,mvType:["内地","港台","欧美","日本","韩国"],handleMVtype:e=>{L({area:e}).then((({data:e})=>{i.value=e}))}};return Object.defineProperty(o,"__isScriptSetup",{enumerable:!1,value:!0}),o}}),Z=""+new URL("../png/phgirl3-HbQrXtwV.png",import.meta.url).href,ee={class:"text-white"},te={class:"max-w-[1400px] mx-auto space-y-8"},se={class:"flex flex-col lg:flex-row gap-8"},le={class:"flex-1 space-y-8"},ae={class:"pt-20"},ne={class:"rounded-lg shadow-sm banner text-white"},ie={class:"p-0 flex"},re={class:"p-8 flex-1"},oe={class:"flex justify-between items-center mb-4"},ce={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4"},ue=["onClick"],de={class:"lg:w-[300px]"},pe={class:"rounded-lg"},me={class:"flex justify-between items-center mb-4"},fe={class:"flex items-center gap-2"},ve={class:"relative h-[500px]"},ge={class:"min-w-full"},be=["onClick"],xe={class:"relative w-16 h-9 flex-shrink-0"},ye={class:"flex-1 min-w-0"},he={class:"font-medium text-black truncate"},ke={class:"text-sm text-gray-400 truncate"},we={class:"text-sm text-gray-400"};const _e=d(Y,[["render",function(e,t,s,l,a,n){var i;const r=p("el-button"),o=p("el-image"),c=J,u=p("el-dropdown-item"),d=p("el-dropdown-menu"),y=p("el-dropdown"),w=p("el-scrollbar");return m(),f("div",ee,[h("div",te,[h("div",se,[h("div",le,[h("section",ae,[h("div",ne,[h("div",ie,[h("div",re,[t[1]||(t[1]=h("p",{class:"text-xl mb-2"},"Billie Eilish",-1)),t[2]||(t[2]=h("h2",{class:"text-4xl font-bold mb-6"},"What Was I Made For?",-1)),v(r,{type:"primary",class:"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 h-10 px-4 py-2 bg-white text-black hover:bg-gray-200"},{default:g((()=>t[0]||(t[0]=[_(" Listen now ")]))),_:1})]),t[3]||(t[3]=h("div",{class:"w-[350px] mt-[-70px]"},[h("img",{alt:"Billie Eilish",loading:"lazy",class:"object-cover",src:Z})],-1))])])]),h("section",null,[h("div",oe,[t[5]||(t[5]=h("h2",{class:"text-2xl font-semibold text-black"},"所有榜单",-1)),v(r,{type:"primary"},{default:g((()=>t[4]||(t[4]=[_("View all ")]))),_:1})]),h("div",ce,[(m(!0),f(b,null,x(null==(i=l.artistToplist)?void 0:i.list,(e=>(m(),f("div",{class:"group relative rounded-lg overflow-hidden cursor-pointer",key:e.id,onClick:t=>l.router.push(`/playlist?id=${e.id}`),ref_for:!0,ref:"observedElement"},[v(o,{lazy:"",src:e.coverImgUrl+"?param=360y360",alt:e.name,class:"w-full h-auto rounded-lg object-cover transition-all duration-300 group-hover:opacity-80"},null,8,["src","alt"])],8,ue)))),128))])])]),h("div",de,[h("section",pe,[h("div",me,[h("div",fe,[t[6]||(t[6]=h("h2",{class:"text-xl font-semibold text-black"},"MV排行榜",-1)),v(y,{placement:"bottom"},{dropdown:g((()=>[v(d,null,{default:g((()=>[(m(),f(b,null,x(l.mvType,(e=>v(u,{key:e,onClick:t=>l.handleMVtype(e)},{default:g((()=>[_(k(e),1)])),_:2},1032,["onClick"]))),64))])),_:1})])),default:g((()=>[v(r,{circle:"",size:"small"},{default:g((()=>[v(c)])),_:1})])),_:1})])]),h("div",ve,[v(w,null,{default:g((()=>[h("div",ge,[(m(!0),f(b,null,x(l.MVRankingList,(e=>(m(),f("div",{key:e.id,class:"flex items-center gap-3 p-2 rounded-lg mb-2",onClick:t=>l.router.push(`/video??id=${e.id}`)},[h("div",xe,[v(o,{class:"rounded cursor-pointer",lazy:"",src:e.cover+"?param=360y300"},null,8,["src"])]),h("div",ye,[h("p",he,k(e.name),1),h("p",ke,k(e.artistName),1)]),h("span",we,k(e.playCount)+" 次观看",1)],8,be)))),128))])])),_:1})])])])])])])}],["__scopeId","data-v-fc7ad6c2"],["__file","/home/runner/work/KMMusicPlayer/KMMusicPlayer/src/views/discover/components/Rankings.vue"]]),Me={class:"p-6 h-full w-full"};const Pe=d(e({__name:"index",setup(e,{expose:t}){t();const s={activeName:a("first"),Recommend:F,Singer:A,Rankings:_e};return Object.defineProperty(s,"__isScriptSetup",{enumerable:!1,value:!0}),s}}),[["render",function(e,t,s,l,a,n){const i=p("el-tab-pane"),r=p("el-tabs");return m(),f("div",Me,[v(r,{modelValue:l.activeName,"onUpdate:modelValue":t[0]||(t[0]=e=>l.activeName=e)},{default:g((()=>[v(i,{label:"推荐",name:"first"},{default:g((()=>["first"===l.activeName?(m(),y(l.Recommend,{key:0})):w("",!0)])),_:1}),v(i,{label:"排行榜",name:"second"},{default:g((()=>["second"===l.activeName?(m(),y(l.Rankings,{key:0})):w("",!0)])),_:1}),v(i,{label:"歌手",name:"third"},{default:g((()=>["third"===l.activeName?(m(),y(l.Singer,{key:0})):w("",!0)])),_:1})])),_:1},8,["modelValue"])])}],["__file","/home/runner/work/KMMusicPlayer/KMMusicPlayer/src/views/discover/index.vue"]]);export{Pe as default};
